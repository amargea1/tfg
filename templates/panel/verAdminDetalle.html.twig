{% extends 'base.html.twig' %}

{% block head %}
    <link rel="stylesheet" href="{{ asset('css/stylesTables.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

{% endblock %}

{% block hb %}
    <div class="d-flex ms-auto">
        <a href="{{ path('admin_ver') }}" class="btn btn-outline-info me-3">Volver</a>
        <a href="{{ path('app_logout') }}" class="btn btn-outline-danger">Cerrar sesión</a>
    </div>
{% endblock %}

{% block main %}
            <div class="container my-5">
                <h3 class="text-center mb-4">Administrador {{ admin.nombre }} {{ admin.apellidos }} con ID: {{ admin.id }}</h3>

                <table class="reclamaciones-table2">
                    <tr>
                        <th>Rol</th>
                        <td>
                            <form method="post" action="{{ path('admin_cambiar_rol', { id: admin.id }) }}">
                                <select name="rol" class="form-select form-select-sm d-inline w-auto me-2">
                                    <option value="{{ admin.rol }}" selected>{{ admin.rol }}</option>
                                    {% for opcion in ['ROLE_ADMIN', 'ROLE_SUPERADMIN'] %}
                                        {% if opcion != admin.rol %}
                                            <option value="{{ opcion }}">{{ opcion }}</option>
                                        {% endif %}
                                    {% endfor %}
                                </select>
                                    <button type="submit" class="btn-detalles"><i class="bi bi-arrow-left-right"></i> Cambiar</button>
                            </form>
                        </td>
                    </tr>
                    <tr>
                        <th>Nombre</th>
                        <td>
                            {{ admin.nombre }}
                        </td>
                    </tr>
                    <tr>
                        <th>Apellidos</th>
                        <td>{{ admin.apellidos }}</td>
                    </tr>
                    <tr>
                        <th>DNI</th>
                        <td>{{ admin.dni }}</td>
                    </tr>

                    <tr>
                        <th>Fecha nacimiento</th>
                        <td>{{ admin.fechaNacimiento|date('d/m/Y') }}</td>
                    </tr>

                    <tr>
                        <th>Sexo</th>
                        <td>{{ admin.sexo }}</td>
                    </tr>

                    <tr>
                        <th>Dirección</th>
                        <td>{{ admin.direccion }}</td>
                    </tr>
                    <tr>
                        <th>Localidad</th>
                        <td>{{ admin.localidad }}</td>
                    </tr>
                    <tr>
                        <th>Provincia</th>
                        <td>{{ admin.provincia }}</td>
                    </tr>
                    <tr>
                        <th>Código Postal</th>
                        <td>{{ admin.codigoPostal }}</td>
                    </tr>

                    <tr>
                        <th>Correo</th>
                        <td>{{ admin.email }}</td>
                    </tr>
                    <tr>
                        <th>Teléfono</th>
                        <td>{{ admin.telefono }}</td>
                    </tr>
                    <tr>
                        <th>Fecha de registro</th>
                        <td>{{ admin.fechaCreacion|date('d/m/Y') }}</td>
                    </tr>
                    <tr>
                        <th>Fecha de último acceso</th>
                        <td>{{ admin.fechaUltimoAcceso|date('d/m/Y H:i') }}</td>
                    </tr>
                    <tr>
                        <th>Nombre de usuario</th>
                        <td>{{ admin.username }}</td>
                    </tr>

                    <tr>
                        <th></th>
                        <td>
                            <a href="{{ path('admin_baja', { id: admin.id }) }}" class="btn-baja" onclick="return confirm('¿Estás segura de que quieres dar de baja a este admin?');">
                                <i class="fa-solid fa-trash"></i>
                                Dar de baja</a>

                        </td>
                    </tr>

                </table>
            </div>

{% endblock %}
